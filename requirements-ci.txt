# =====================================
# msearch 多模态检索系统 - CI环境依赖清单
# 更新时间: 2025-10-23
# 针对GitHub Actions CI环境优化，解决依赖冲突和安装问题
# =====================================

# =====================================
# 🚀 安装说明
# =====================================
# CI环境专用:
#   pip install -r requirements-ci.txt
#
# 国内镜像加速:
#   pip install -r requirements-ci.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# =====================================
# 🔥 核心深度学习框架 (CPU版本)
# =====================================
torch==2.0.1+cpu                # PyTorch深度学习框架 (CPU版本，避免CUDA依赖)
torchvision==0.15.2+cpu         # PyTorch视觉库 (CPU版本)
numpy>=1.24.0                   # 科学计算基础库

# =====================================
# 🌐 Web框架和API服务
# =====================================
fastapi>=0.104.0                # Web API框架
uvicorn>=0.23.0                 # ASGI服务器
pydantic>=2.5.0                 # 数据验证库
httpx>=0.25.0                   # 异步HTTP客户端
requests>=2.31.0                # 同步HTTP客户端
aiofiles>=23.0.0                # 异步文件操作
python-multipart>=0.0.6         # 文件上传支持

# =====================================
# 💾 数据库和存储
# =====================================
sqlalchemy>=2.0.0               # SQL ORM框架
qdrant-client>=1.6.0            # Qdrant向量数据库客户端

# =====================================
# 🖼️ 媒体处理和计算机视觉 (CI优化版本)
# =====================================
pillow>=10.1.0                  # PIL图像处理
opencv-python-headless>=4.8.0   # OpenCV计算机视觉 (无GUI版本，避免X11依赖)
librosa>=0.10.0                 # 音频处理库
soundfile>=0.12.0               # 音频文件I/O
pydub>=0.25.0                   # 音频格式转换
scikit-image>=0.21.0            # 高级图像处理

# =====================================
# 🔬 科学计算和机器学习
# =====================================
scipy>=1.10.0                   # 科学计算库
scikit-learn>=1.3.0             # 机器学习库

# =====================================
# 🧠 AI模型和嵌入引擎 (精简版本)
# =====================================
# 注意: 以下模型库在CI环境中可能需要特殊处理
# openai-whisper>=20230314       # 语音识别模型 (体积大，可能需要缓存)
# facenet-pytorch>=2.5.0         # 人脸识别模型
# mtcnn>=0.1.1                   # 人脸检测器
# insightface>=0.7.0             # 增强人脸分析 (可能需要额外系统依赖)
infinity-emb>=0.0.20            # 向量嵌入引擎
sentence-transformers>=2.2.0    # 多语言文本嵌入

# =====================================
# 🔧 系统工具和监控
# =====================================
watchdog>=3.0.0                 # 文件系统监控
psutil>=5.9.0                   # 系统资源监控
tqdm>=4.65.0                    # 进度条显示
colorama>=0.4.0                 # 彩色终端输出
pyyaml>=6.0.1                   # YAML配置解析
python-dotenv>=1.0.0            # 环境变量管理
chardet>=5.0.0                  # 字符编码检测
python-magic>=0.4.0             # 文件类型检测

# =====================================
# 🧪 测试工具
# =====================================
pytest>=7.0.0                   # 测试框架
pytest-cov>=4.0.0               # 测试覆盖率
pytest-mock>=3.10.0             # 模拟对象