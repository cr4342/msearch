# 项目规范

## 文档规范
### 1.  文档格式
- 使用 Markdown 格式编写文档。
- 文档标题需遵循层级结构，一级标题使用 `#`，二级标题使用 `##`，以此类推。
- 关键内容可使用加粗、列表等格式突出显示。

### 2. 文档管理
- 所有文档存放在 `/data/project/msearch/docs` 目录下，按文档类型分类存放。
- 文档修改需记录修改日志，包含修改人、修改时间、修改内容。

## 编码规范
### 1. 代码风格
- **命名规范**
  - 变量名、函数名使用驼峰命名法，类名使用大驼峰命名法。
  - 常量名全部使用大写，单词间用下划线分隔。
- **注释规范**
  - 类和函数必须添加文档注释，说明功能、参数、返回值。
  - 复杂逻辑代码需添加行内注释。

### 2. 代码结构
- 按功能模块划分目录结构，每个模块有独立的目录。
- 公共代码存放在 `common` 目录下。

### 3. 代码质量
- 代码需进行单元测试，测试覆盖率不低于 80%。
- 定期进行代码审查，确保代码符合规范。

### 4. 测试规则
#### 4.1 单元测试
- 每个函数和类必须编写对应的单元测试，测试脚本存放在 `tests/unit` 子目录下，确保核心逻辑被覆盖。
- 单元测试需遵循测试驱动开发（TDD）原则，先编写测试用例，再实现功能代码。
- 单元测试脚本需使用统一的测试框架，测试结果需生成详细的报告文件，保存在 `tests/unit/reports` 目录。
- 该部分测试脚本需被 Git 管理，提交代码时需保证单元测试全部通过。

#### 4.2 集成测试
- 集成测试脚本存放在 `tests/integration` 子目录下，用于验证不同模块之间的协作。
- 集成测试需模拟真实环境的部分依赖，如数据库、缓存等。
- 每次代码合并到主分支前，需运行集成测试，确保模块间兼容性。

#### 4.3 部署测试
- 每个阶段完成时，需在专属目录 `/deploy_test` 进行真实部署测试。
- 部署测试需包含完整的系统流程，验证系统在生产环境中的稳定性和性能。
- 该部署目录不被 Git 管理，测试结果需记录在 `/deploy_test/deploy_test.log` 文件中。

#### 4.4 测试命名规范
- 测试文件名需与被测试的代码文件名对应，格式为 `test_<filename>.py`。
- 测试类名以 `Test` 开头，使用大驼峰命名法。
- 测试方法名以 `test_` 开头，使用小写字母和下划线组合，清晰描述测试场景。
