[pytest]
# 基本配置
python_files = test_*.py it_*.py e2e_*.py
python_classes = Test*
python_functions = test_*

# 测试目录配置
testpaths = tests/unit tests/integration tests/e2e

# 配置文件目录
confcutdir = tests/conf.d

# 覆盖率报告配置
addopts = -v --cov=src --cov-report=html:tests/.coverage/html --cov-report=xml:tests/.coverage/coverage.xml

# 自定义fixture目录
norecursedirs = tests/.tmp tests/.coverage tests/data

# 日志配置
log_cli = true
log_level = INFO
log_format = %(asctime)s - %(name)s - %(levelname)s - %(message)s

# pytest-asyncio配置
asyncio_mode = auto
