# msearch WebUI

msearch 多模态检索系统的 Web 用户界面。

## 功能

- **多模态搜索**: 支持文本、图像、音频搜索
- **智能任务管理**: 完整的任务生命周期管理
  - 📊 实时进度监控：显示当前正在处理的任务和详细进度
  - 🔄 智能重试功能：支持单个和批量重试失败任务
  - 📁 当前操作显示：查看每个任务正在处理哪个文件
  - ⚙️ 状态筛选：按状态、类型、优先级筛选任务
- **文件管理**: 查看已索引的文件
- **系统状态**: 查看系统运行状态

## 任务管理器核心功能（2024-02-04 更新）

### 🔍 实时监控
- **进度详情显示**：根据任务类型显示详细进度状态
  - 🔍 文件扫描中 85.2%
  - 🖼️ 图像处理中 45.0%
  - 🎬 视频处理中 67.8%
  - 🎵 音频处理中 32.1%
  - 📊 向量化中 91.5%
- **当前操作跟踪**：显示每个任务当前正在处理的文件
  - 🎬 处理视频: movie.mp4
  - ✅ 完成: image.jpg (15MB)
  - ❌ 失败: 文件不存在

### 🔄 智能重试
- **批量重试**：选中多个失败任务一键重试
- **单独重试**：输入任务ID精确重试特定任务
- **状态验证**：只允许重试失败状态的任务
- **详细反馈**：显示重试结果、成功数量、失败详情

### 📊 界面优化
- **新增列**：
  - "进度详情" - 详细的进度描述
  - "当前操作" - 当前正在处理的文件和操作
- **实时面板**：自动刷新的实时状态监控
- **操作增强**：更直观的任务控制按钮

## 使用方法

1. 启动 API 服务器: `python3 src/api_server.py`
2. 启动 WebUI: `python3 src/webui/app.py --port 8502`
3. 打开浏览器访问任务管理器: `http://localhost:8502`
4. 查看实时进度和重试失败任务

## 使用方法

1. 启动 API 服务器: `python3 src/api_server.py`
2. 打开浏览器访问: `http://localhost:8000`
3. 或直接访问: `http://localhost:8000/webui/index.html`

## 文件说明

- `index.html`: 主页面
- `styles.css`: 样式文件
- `app.js`: 前端交互逻辑
